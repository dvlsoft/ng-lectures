
<h1>Products</h1>

<div>
    Sort by:
    <div class="btn-group">
        <a class="btn btn-xs" ui-sref-active="btn-primary" ui-sref="products({ by: 'price' })">price</a>
        <a class="btn btn-xs" ui-sref-active="btn-primary" ui-sref="products({ by: 'name' })">name</a>
    </div>
    Order:
    <div class="btn-group">
        <a class="btn btn-xs" ui-sref-active="btn-primary" ui-sref="products({ order: '' })">asc</a>
        <a class="btn btn-xs" ui-sref-active="btn-primary" ui-sref="products({ order: '-' })">desc</a>
    </div>
</div>

<ul class="list-unstyled">
    <li ng-repeat="item in products.items | orderBy:products.orderBy | limitTo:products.limit track by item.id">

        <article class="product row">

            <div class="col-md-9">
                <h4 class="name">{{ item.name }}</h4>
                <div>{{ item.description | limitTo:100 }}</div>
            </div>

            <div class="col-md-3">
                <div class="price">{{ item.price }}</div>
                <div class="actions btn-group">
                    <button class="btn btn-primary btn-sm" ng-click="item.buy()">
                        {{ item.getShoppingCartQuantity() ? '+' : 'купить' }}
                    </button>
                    <button class="btn btn-secondary btn-sm" ng-click="item.unBuy()" ng-if="item.getShoppingCartQuantity()">-</button>
                </div>
                <div ng-if="item.getShoppingCartQuantity()">
                    In the cart: <b>{{ item.getShoppingCartQuantity() }}</b>
                </div>
            </div>

        </article>

    </li>
</ul>

<a class="btn btn-primary" ui-sref="products({ limit: {{ products.limit+10 }} })">Show More</a>